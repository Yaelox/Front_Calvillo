<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Configuraci칩n</ion-title>
  </ion-toolbar>
</ion-header>


<div class="page-banner">
  <h1>游늵 Estad칤sticas de Ventas</h1>
  <p>Administra las estad칤sticas de ventas de manera intuitiva.</p>
</div>

<ion-content id="main-content" class="content-container">
  <div class="main-content">
    
    <!-- Ventas por Zona -->
    <section class="ventas-zona">
      <h2>游늸 Ventas por Zona</h2>
      <table *ngIf="ventasZona.length > 0">
        <thead>
          <tr>
            <th>Ciudad</th>
            <th>Calle</th>
            <th>Colonia</th>
            <th>Total Vendido</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let zona of ventasZona">
            <td>{{ zona.ciudad }}</td>
            <td>{{ zona.calle }}</td>
            <td>{{ zona.colonia }}</td>
            <td><strong>${{ zona.total_ventas | number }}</strong></td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Ventas por Mes -->
    <section class="ventas-mes">
      <h2>游늱 Ventas por Mes</h2>
      <table *ngIf="ventasMes?.length">
        <thead>
          <tr>
            <th>Mes</th>
            <th>Total Vendido</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let mes of ventasMes">
            <td>{{ mes.mes }}</td>
            <td><strong>${{ mes.total_ventas | number }}</strong></td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Ventas por Semana -->
    <section class="ventas-semana">
      <h2>游늰 Ventas por Semana</h2>
      <table *ngIf="ventasSemana.length > 0">
        <thead>
          <tr>
            <th>Mes</th>
            <th>Semana</th>
            <th>Ventas</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let mes of ventasSemana">
            <td>{{ mes.mes }}</td>
            <ng-container *ngFor="let semana of mes.semanas">
              <td>{{ semana.semana }}</td>
              <td><strong>${{ semana.ventas | number }}</strong></td>
            </ng-container>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Ventas por A침o -->
    <section class="ventas-anio">
      <h2>游늳 Ventas por A침o</h2>
      <div class="card-container" *ngIf="ventasAnio.length > 0">
        <div class="card" *ngFor="let anio of ventasAnio">
          <h3>A침o: {{ anio.ano }}</h3>
          <p><strong>Total Vendido:</strong> ${{ anio.total_ventas | number }}</p>
        </div>
      </div>
      <p *ngIf="ventasAnio.length === 0">No hay datos de ventas por a침o.</p>
    </section>

    <!-- Producto M치s Vendido -->
    <section class="producto-mas-vendido">
      <h2>游댠 Producto M치s Vendido</h2>
      <div *ngIf="productoMasVendido?.length > 0">
        <ul>
          <li *ngFor="let item of productoMasVendido">
            <strong>{{ item.producto }}</strong>: {{ item.total_vendido }} vendidos
          </li>
        </ul>
      </div>
      <div *ngIf="productoMasVendido?.length === 0">
        <p>No hay productos m치s vendidos.</p>
      </div>      
    </section>

    <!-- Producto M치s Vendido por Zona -->
    <section class="producto-mas-vendido-zona" *ngIf="productoMasVendidoPorZona.length > 0">
      <h2>游깵 Producto M치s Vendido por Zona</h2>
      <table>
        <thead>
          <tr>
            <th>Ciudad</th>
            <th>Colonia</th>
            <th>Calle</th>
            <th>Producto</th>
            <th>Total Vendido</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of productoMasVendidoPorZona">
            <td>{{ producto.zona.ciudad }}</td>
            <td>{{ producto.zona.colonia }}</td>
            <td>{{ producto.zona.calle }}</td>
            <td>{{ producto.producto }}</td>
            <td><strong>{{ producto.total_vendido }}</strong></td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Bot칩n de Imprimir PDF -->
    <button (click)="downloadPDF()">游둳 Imprimir PDF</button>
  </div>
</ion-content>
